## Các câu hỏi chuyên sâu cho lập viên Backend Web PHP và trả lời chi tiết

**1. Giải thích sự khác biệt giữa Session và Cookie. Khi nào bạn nên sử dụng Session và khi nào nên sử dụng Cookie?**

**Trả lời:**

* **Cookie:** Là một tập tin nhỏ được lưu trữ trên trình duyệt của người dùng, chứa thông tin được gửi từ website. Cookie có thể được website truy cập mỗi khi người dùng truy cập lại.
* **Session:** Là một cơ chế lưu trữ dữ liệu trên server, được liên kết với một ID duy nhất được lưu trữ trong Cookie. Khi người dùng truy cập website, server sẽ tạo một session và gửi ID session cho trình duyệt thông qua Cookie. Mỗi lần người dùng truy cập lại, server sẽ sử dụng ID session để truy cập dữ liệu session tương ứng.

**Khi nào nên sử dụng Session:**

* Lưu trữ thông tin nhạy cảm, ví dụ như thông tin đăng nhập.
* Lưu trữ thông tin cần được duy trì trong suốt quá trình sử dụng website.
* Lưu trữ thông tin có kích thước lớn hơn Cookie.

**Khi nào nên sử dụng Cookie:**

* Lưu trữ thông tin không nhạy cảm, ví dụ như ngôn ngữ, theme website.
* Lưu trữ thông tin cần được truy cập nhanh chóng.
* Lưu trữ thông tin có kích thước nhỏ.


**2. Giải thích cách hoạt động của Composer và lợi ích của nó trong việc phát triển ứng dụng PHP.**

**Trả lời:**

Composer là một công cụ quản lý dependency (phụ thuộc) cho PHP. Nó cho phép bạn khai báo các thư viện cần thiết cho dự án của mình trong một file composer.json, sau đó Composer sẽ tự động tải và cài đặt các thư viện đó.

**Cách hoạt động:**

1. **Khai báo dependency:** Bạn định nghĩa các thư viện cần thiết và phiên bản của chúng trong file composer.json.
2. **Cài đặt dependency:** Bạn chạy lệnh `composer install` để Composer tải và cài đặt các thư viện đã khai báo.
3. **Quản lý dependency:** Composer sẽ tự động quản lý các phiên bản của thư viện và giải quyết xung đột giữa các dependency.
4. **Tự động tải:** Composer cung cấp một autoloader để tự động tải các class của thư viện khi cần thiết.

**Lợi ích:**

* **Quản lý dependency dễ dàng:** Giảm thiểu thời gian và công sức trong việc tìm kiếm, tải và cài đặt thư viện.
* **Giải quyết xung đột dependency:** Composer sẽ tự động giải quyết các xung đột giữa các phiên bản thư viện.
* **Cải thiện khả năng tái sử dụng code:** Bạn có thể dễ dàng chia sẻ và tái sử dụng code thông qua các package.
* **Tăng tính ổn định và bảo mật:** Bạn có thể dễ dàng cập nhật các thư viện lên phiên bản mới nhất, đảm bảo tính ổn định và bảo mật cho ứng dụng.


**3. Mô tả các phương thức khác nhau để xử lý lỗi trong PHP và cách bạn thường sử dụng chúng trong dự án của mình.**

**Trả lời:**

PHP cung cấp nhiều phương thức để xử lý lỗi, bao gồm:

* **`try...catch`:** Xử lý ngoại lệ (Exception). Đây là cách tốt nhất để xử lý các lỗi không mong muốn trong mã code.
* **`set_error_handler`:** Định nghĩa hàm xử lý lỗi.
* **`error_reporting`:** Kiểm soát mức độ hiển thị lỗi.
* **`ini_set`:** Thiết lập các tùy chọn cấu hình liên quan đến xử lý lỗi.
* **Logging:** Ghi lại lỗi vào file log để theo dõi và debug.

**Cách sử dụng:**

Trong dự án của mình, tôi thường sử dụng `try...catch` để xử lý các lỗi nghiêm trọng có thể ảnh hưởng đến hoạt động của ứng dụng. Ví dụ, khi kết nối cơ sở dữ liệu hoặc thực hiện các thao tác file.

Đối với các lỗi nhỏ hơn, tôi sử dụng `set_error_handler` để ghi lại thông tin lỗi vào file log. Đồng thời, tôi sử dụng `error_reporting` để kiểm soát mức độ hiển thị lỗi trong môi trường phát triển và sản xuất.

**Ví dụ:**

```php
try {
    // Mã code có thể gây ra lỗi
} catch (Exception $e) {
    // Xử lý lỗi
    error_log($e->getMessage());
}
```


**4. Giải thích khái niệm SOLID và cách bạn áp dụng các nguyên tắc này trong mã PHP của mình.**

**Trả lời:**

SOLID là một tập hợp các nguyên tắc thiết kế phần mềm hướng đối tượng, giúp tạo ra mã code dễ đọc, dễ bảo trì và dễ mở rộng.

* **Single Responsibility Principle (SRP):** Mỗi class chỉ nên có một nhiệm vụ duy nhất.
* **Open/Closed Principle (OCP):** Mã code nên mở rộng nhưng không thay đổi.
* **Liskov Substitution Principle (LSP):** Các đối tượng con phải có thể thay thế được các đối tượng cha mà không làm thay đổi tính đúng đắn của chương trình.
* **Interface Segregation Principle (ISP):** Thay vì sử dụng một interface lớn, nên chia nhỏ thành nhiều interface nhỏ hơn, phù hợp với nhu cầu của các class sử dụng.
* **Dependency Inversion Principle (DIP):** Các class nên phụ thuộc vào các abstraction (interface) thay vì phụ thuộc vào các implementation (class cụ thể).

**Cách áp dụng:**

* **SRP:** Chia nhỏ các class thành các thành phần nhỏ hơn, mỗi thành phần chỉ chịu trách nhiệm cho một nhiệm vụ cụ thể.
* **OCP:** Sử dụng interface và abstract class để tạo ra các lớp trừu tượng, giúp dễ dàng mở rộng chức năng của ứng dụng mà không cần sửa đổi mã code cũ.
* **LSP:** Đảm bảo rằng các class con tuân thủ các phương thức và thuộc tính của class cha.
* **ISP:** Chia nhỏ các interface thành các interface nhỏ hơn, phù hợp với nhu cầu của các class sử dụng.
* **DIP:** Sử dụng interface để tách biệt các lớp khỏi các implementation cụ thể, giúp dễ dàng thay đổi implementation mà không ảnh hưởng đến các lớp khác.


**5. Mô tả cách bạn tối ưu hóa hiệu năng của một ứng dụng web PHP.**

**Trả lời:**

Tối ưu hóa hiệu năng của ứng dụng web PHP bao gồm nhiều khía cạnh, bao gồm:

* **Cơ sở dữ liệu:** Sử dụng các chỉ mục (index) phù hợp, tối ưu hóa truy vấn SQL, sử dụng kết nối persistent,  cache dữ liệu.
* **Mã code:** Sử dụng các hàm built-in của PHP, tránh sử dụng vòng lặp lồng nhau, tối ưu hóa thuật toán, sử dụng opcode cache (Opcache).
* **Server:** Cấu hình server phù hợp, sử dụng load balancer, tối ưu hóa file cấu hình, sử dụng caching server (Redis, Memcached).
* **Frontend:** Giảm thiểu kích thước file HTML, CSS, Javascript, sử dụng CDN, tối ưu hóa hình ảnh.


**6. Giải thích cách bạn sử dụng MVC (Model-View-Controller) trong dự án PHP của mình.**

**Trả lời:**

MVC là một pattern thiết kế phổ biến trong phát triển web, giúp tách biệt các thành phần của ứng dụng thành 3 phần:

* **Model:** Chứa logic xử lý dữ liệu và tương tác với cơ sở dữ liệu.
* **View:** Chứa giao diện người dùng (HTML, CSS, Javascript).
* **Controller:** Xử lý các yêu cầu từ người dùng, tương tác với Model và View để hiển thị dữ liệu.

**Cách sử dụng:**

1. **Controller:** Khi người dùng gửi yêu cầu, Controller sẽ nhận yêu cầu và xử lý.
2. **Model:** Controller gọi các hàm trong Model để truy xuất và xử lý dữ liệu.
3. **View:** Controller truyền dữ liệu từ Model cho View. View hiển thị dữ liệu cho người dùng.

**Ví dụ:**

Khi người dùng truy cập trang sản phẩm, Controller sẽ nhận yêu cầu, gọi Model để lấy thông tin sản phẩm, sau đó truyền dữ liệu cho View để hiển thị thông tin sản phẩm cho người dùng.


**7. Giải thích cách bạn bảo mật ứng dụng web PHP của mình.**

**Trả lời:**

Bảo mật ứng dụng web PHP là một vấn đề quan trọng, bao gồm:

* **Xử lý dữ liệu đầu vào:** Sử dụng hàm `htmlspecialchars` hoặc `htmlentities` để escape dữ liệu đầu vào trước khi hiển thị. Sử dụng prepared statement để ngăn chặn SQL injection.
* **Xử lý phiên làm việc (Session):** Sử dụng Session ID an toàn, bảo mật Session ID, thiết lập thời gian hết hạn Session.
* **Xử lý lỗi:** Ẩn thông tin lỗi chi tiết khỏi người dùng, ghi lại lỗi vào file log.
* **Kiểm soát truy cập:** Sử dụng Authentication và Authorization để kiểm soát quyền truy cập vào các tài nguyên của ứng dụng.
* **Cập nhật PHP và thư viện:** Cập nhật PHP và các thư viện thường xuyên để vá các lỗ hổng bảo mật.

**8. Giải thích cách bạn sử dụng API trong dự án PHP của mình.**

**Trả lời:**

API (Application Programming Interface) là một giao diện cho phép các ứng dụng khác nhau tương tác với nhau. Trong dự án PHP, tôi thường sử dụng API để:

* **Tích hợp với các dịch vụ bên thứ ba:** Ví dụ, tích hợp với Google Maps, Facebook, Twitter.
* **Cung cấp dữ liệu cho các ứng dụng khác:** Ví dụ, cung cấp dữ liệu sản phẩm cho ứng dụng mobile.
* **Tạo ra các microservice:** Chia nhỏ ứng dụng thành các service nhỏ hơn, tương tác với nhau thông qua API.

**Cách sử dụng:**

* **Sử dụng thư viện:** Sử dụng các thư viện như Guzzle để gửi yêu cầu HTTP đến API.
* **Xác định endpoint:** Định nghĩa các endpoint của API để truy cập dữ liệu.
* **Xử lý dữ liệu:** Xử lý dữ liệu trả về từ API.
* **Xác thực:** Xác thực yêu cầu API bằng token hoặc key.


**9. Mô tả một số pattern thiết kế phổ biến trong PHP và cách bạn đã áp dụng chúng trong các dự án của mình.**

**Trả lời:**

Ngoài MVC, PHP còn có nhiều pattern thiết kế phổ biến khác, bao gồm:

* **Singleton:** Đảm bảo rằng một class chỉ có một instance duy nhất.
* **Factory:** Tạo ra các đối tượng mà không cần biết cụ thể class nào được tạo ra.
* **Observer:** Cho phép các đối tượng đăng ký để nhận thông báo khi một sự kiện xảy ra.
* **Strategy:** Cho phép thay đổi thuật toán được sử dụng trong thời gian chạy.
* **Decorator:** Thêm các chức năng mới cho một đối tượng mà không cần sửa đổi code của đối tượng đó.

**Cách áp dụng:**

Ví dụ, trong một dự án quản lý blog, tôi có thể sử dụng pattern Singleton để quản lý kết nối cơ sở dữ liệu. Pattern Factory có thể được sử dụng để tạo ra các đối tượng bài viết, bình luận. Pattern Observer có thể được sử dụng để thông báo cho người dùng khi có bài viết mới.


**10. Bạn có kinh nghiệm làm việc với các hệ thống quản trị cơ sở dữ liệu quan hệ (RDBMS) nào? Hãy mô tả một số kỹ thuật tối ưu hóa truy vấn SQL.**

**Trả lời:**

Tôi có kinh nghiệm làm việc với các RDBMS như MySQL, PostgreSQL, và MSSQL.

**Một số kỹ thuật tối ưu hóa truy vấn SQL:**

* **Sử dụng chỉ mục (Index):** Tạo chỉ mục cho các cột thường được sử dụng trong điều kiện WHERE, ORDER BY, GROUP BY.
* **Viết truy vấn hiệu quả:** Tránh sử dụng các hàm và toán tử phức tạp trong điều kiện WHERE. Sử dụng JOIN thay vì subquery khi có thể.
* **Phân tích kế hoạch truy vấn (Query Plan):** Sử dụng EXPLAIN để phân tích kế hoạch truy vấn và xác định các điểm nghẽn.
* **Tối ưu hóa cơ sở dữ liệu:** Định kỳ tối ưu hóa cơ sở dữ liệu bằng các lệnh như OPTIMIZE TABLE, ANALYZE TABLE.
* **Sử dụng caching:** Cache dữ liệu thường xuyên được truy cập để giảm tải cho cơ sở dữ liệu.


**Lưu ý:** Đây chỉ là một số câu hỏi mẫu, bạn có thể điều chỉnh và bổ sung thêm các câu hỏi phù hợp với yêu cầu cụ thể của vị trí tuyển dụng. Ngoài ra, bạn cũng nên chuẩn bị sẵn sàng để trả lời các câu hỏi về kinh nghiệm làm việc, dự án đã tham gia và kỹ năng mềm của mình.

Chúc bạn thành công trong buổi phỏng vấn!
